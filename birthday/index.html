<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="HandheldFriendly" content="true" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Happy Birthday ‚Äî Saniya & Afreen</title>
    <meta name="theme-color" content="#ff66a6" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&family=Pacifico&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="./styles.css?v=2" />
  </head>
  <body>
    <canvas id="starfield" aria-hidden="true"></canvas>
    <!-- Desktop hint overlay -->
    <div id="desktop-hint" class="overlay" role="dialog" aria-modal="true">
      <div class="overlay-inner">
        <div class="title">Best Experience on Desktop/Laptop</div>
        <p class="subtitle">Bhai, yeh surprise desktop pe aur zyada kamaal lagta hai. Chaho to yahin se continue karo.</p>
        <div style="display:flex; gap:10px; justify-content:center; margin-top:10px;">
          <button id="continueMobile" class="primary">Continue Anyway</button>
          <button id="copyLink" class="ghost">Copy Link</button>
          <button id="showQR" class="ghost">Show QR</button>
        </div>
      </div>
    </div>

    <!-- Intro overlay: tap to start -->
    <div id="intro-overlay" class="overlay visible" role="dialog" aria-modal="true">
      <div class="overlay-inner">
        <div class="title">
          <span class="spark">‚ú®</span>
          <span>Special Birthday Surprise</span>
          <span class="spark">‚ú®</span>
        </div>
        <div class="big-heart">‚ù§</div>
        <p class="subtitle">Made with love for Saniya & Afreen</p>
        <button id="startBtn" class="primary">Tap to Start</button>
        <p class="hint">Sound on for best experience</p>
      </div>
      <canvas id="confetti-canvas" aria-hidden="true"></canvas>
    </div>

    <!-- Name Gate -->
    <div id="name-gate" class="overlay" role="dialog" aria-modal="true" aria-labelledby="gate-title">
      <div class="overlay-inner gate">
        <h2 id="gate-title">Enter your name</h2>
        <p class="gate-sub">Only for Saniya or Afreen üíñ</p>
        <div class="gate-inputs">
          <input id="nameInput" type="text" placeholder="Type Saniya or Afreen" autocomplete="off" />
          <button id="enterBtn" class="primary">Enter</button>
        </div>
        <p id="gateError" class="error" aria-live="polite"></p>
      </div>
    </div>

    <!-- Main Celebration Scene (wrapped to force desktop layout on mobile) -->
    <div id="desktopCanvas" class="desktop-canvas">
    <main id="scene" class="hidden" aria-live="polite">
      <div class="aurora-bg" aria-hidden="true"></div>
      <div class="orbs" aria-hidden="true">
        <span class="orb"></span>
        <span class="orb"></span>
        <span class="orb"></span>
        <span class="orb"></span>
        <span class="orb"></span>
        <span class="orb"></span>
      </div>
      <canvas id="fireworks" aria-hidden="true"></canvas>

      <header class="hero">
        <h1 class="headline">
          <span class="hb">Happy Birthday</span>
          <span id="personName" class="name">Bestie</span>
        </h1>
        <p id="wishLine" class="wish-line"></p>
      </header>

      <!-- Parallax banner -->
      <section class="parallax-banner" aria-label="Parallax banner"></section>

      <!-- Cartoon Character (Kawaii Cake) -->
      <section class="centerpiece">
        <div id="cake" class="kawaii-cake" aria-label="Cute birthday cake">
          <div class="plate"></div>
          <div class="cake-body">
            <div class="sprinkles"></div>
            <div class="face">
              <div class="eye left"></div>
              <div class="eye right"></div>
              <div class="smile"></div>
            </div>
          </div>
          <div class="frosting"></div>
          <div class="candles">
            <div class="candle"><span class="flame"></span></div>
            <div class="candle"><span class="flame"></span></div>
            <div class="candle"><span class="flame"></span></div>
          </div>
        </div>
      </section>

      <!-- Floating balloons and hearts -->
      <div id="floaters" aria-hidden="true"></div>

      <!-- Shayari Carousel -->
      <section class="shayari">
        <h2>Friendship Shayari</h2>
        <div class="carousel">
          <button id="prevShayari" class="ghost" aria-label="Previous">‚Äπ</button>
          <div id="shayariBox" class="slides type-box"></div>
          <button id="nextShayari" class="ghost" aria-label="Next">‚Ä∫</button>
        </div>
      </section>

      <!-- Gallery -->
      <section class="gallery">
        <h2>Memories</h2>
        <div id="galleryGrid" class="grid" aria-live="polite"></div>
      </section>

      <!-- Our Story (Typewriter) -->
      <section class="story">
        <h2>Our Story</h2>
        <div id="typewriter" class="typewriter" aria-live="polite"></div>
      </section>

      <footer class="controls">
        <button id="toggleSound" class="ghost">üîä Sound</button>
        <button id="switchPerson" class="ghost">Switch: Saniya ‚áÑ Afreen</button>
        <button id="themeToggle" class="ghost">üé® Theme</button>
        <button id="shareBtn" class="ghost">üì§ Share</button>
        <button id="viewToggle" class="ghost">üñ•Ô∏è Desktop View</button>
      </footer>
    </main>
    </div>

    <!-- Audio (multiple sources with graceful fallback) -->
    <audio id="bgm" preload="auto" loop></audio>

    <!-- Heart burst container -->
    <div id="burst" aria-hidden="true"></div>

    <!-- Lightbox -->
    <div id="lightbox" class="overlay" role="dialog" aria-modal="true">
      <div class="overlay-inner" style="background:transparent;">
        <img id="lightboxImg" alt="Preview" style="max-width:90vw; max-height:80vh; border-radius:16px; box-shadow: 0 20px 60px rgba(0,0,0,0.5);" />
        <div style="margin-top:12px;">
          <button id="closeLightbox" class="primary">Close</button>
        </div>
      </div>
    </div>

    <!-- QR Overlay -->
    <div id="qr-overlay" class="overlay" role="dialog" aria-modal="true">
      <div class="overlay-inner">
        <div class="title">Open on Desktop</div>
        <p class="subtitle">Scan this QR from your PC/Laptop to open the surprise there.</p>
        <div style="display:grid; place-items:center; margin: 12px 0;">
          <img id="qrImage" alt="QR code to open link on desktop" style="width: 240px; height: 240px; border-radius: 12px; background: #fff; padding: 8px;" />
        </div>
        <button id="closeQR" class="primary">Close</button>
      </div>
    </div>

    <script src="./script.js?v=2" defer></script>
  </body>
</html>

